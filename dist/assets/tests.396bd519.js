import{e as u,g as i,o as _,c as h,d as s,a as d,t as x,M as v,N as b,y as g,C as y}from"./vendor.16486713.js";import{a as w}from"./index.ee6d89d7.js";import{_ as N}from"./FileUploader.5fe40029.js";import{a as k}from"./index.8edb269a.js";const C={class:"flex"},S={class:"mr-20 flex flex-col items-center"},j={class:"text-p"},A={class:"flex flex-col flex-grow"},D=s("h5",{class:"text-h3"},"Annotations to send",-1),T=y("Send to API"),I=u({setup(U){const n=i(""),c=[{name:"date",id:"#a7079111-6b3d-4146-9067-10349e77bc76",left:179,top:4,width:172,height:21},{name:"balance",id:"#9363bc87-f7d9-4d77-976a-b0e50912b3c4",left:320,top:67,width:82,height:24},{name:"code",id:"#fdfe9ac2-0092-452d-a68f-73562112f921",left:189,top:292,width:74,height:33}],o=i(),r=async()=>{if(!o.value){alert("No files selected");return}const e=new FormData,a=[];for(let t=0;t<o.value.length;t++)a.push(c);for(const t of o.value)e.append("files",t);n.value?e.append("annotations",JSON.stringify(n.value.replace(/(\r\n|\n|\r|\s)/gm,""))):e.append("annotations",JSON.stringify(a));try{await k.post("/multitest",e,{headers:{"Content-Type":"multipart/form-data;"}})}catch{}finally{alert("sent to the API")}},f=e=>{o.value=e};return(e,a)=>{var l;const t=N,p=w;return _(),h("div",C,[s("div",S,[d(t,{"button-text":"upload files",multiple:"",onUpload:f}),s("p",j,"Number of uploaded files: "+x(((l=o.value)==null?void 0:l.length)||0),1)]),s("div",A,[D,v(s("textarea",{"onUpdate:modelValue":a[0]||(a[0]=m=>n.value=m),rows:"20",class:"border-1 border-secondary focus:outline-none"},null,512),[[b,n.value]]),d(p,{type:"secondary",class:"ml-auto mt-2",onClick:r},{default:g(()=>[T]),_:1})])])}}});export{I as default};
